<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula PrÃ¡tica â€“ CI/CD com GitHub Actions</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f7fa;
      color: #222;
      margin: 40px auto;
      max-width: 900px;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #004aad;
    }
    pre {
      background-color: #f0f0f0;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
    }
    code {
      font-family: 'Courier New', monospace;
    }
    .section {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      margin-bottom: 25px;
    }
    .highlight {
      background-color: #e8f0fe;
      border-left: 5px solid #004aad;
      padding: 10px 15px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸš€ Aula PrÃ¡tica â€“ CI/CD com GitHub Actions</h1>
  <p>Nesta aula, veremos como implementar <strong>Continuous Integration (CI)</strong> e <strong>Continuous Deployment (CD)</strong> de forma prÃ¡tica, utilizando o <strong>GitHub Actions</strong> para automatizar o fluxo de desenvolvimento de um site HTML.</p>

  <div class="section">
    <h2>ğŸ“˜ Parte 1 â€“ Continuous Integration (CI)</h2>
    <p>Criaremos um workflow que valida automaticamente o cÃ³digo sempre que houver um <code>push</code> ou <code>pull request</code>.</p>

    <div class="highlight">
      <strong>Arquivo:</strong> <code>.github/workflows/ci-validacao.yaml</code>
    </div>

    <pre><code>name: ğŸ§ª CI - ValidaÃ§Ã£o de CÃ³digo HTML

on:
  push:
    branches: [ "main" ]
  pull_request:

jobs:
  validate:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Clonar repositÃ³rio
        uses: actions/checkout@v4

      - name: âœ… Validar HTML bÃ¡sico
        run: |
          if grep -q "TODO" index.html; then
            echo "âŒ Encontrei um TODO, corrija antes do merge!"
            exit 1
          fi
          echo "âœ… Nenhum erro encontrado, cÃ³digo aprovado!"</code></pre>

    <p>ğŸ’¡ <strong>Objetivo:</strong> Demonstrar a automaÃ§Ã£o da verificaÃ§Ã£o de cÃ³digo. Caso algum desenvolvedor esqueÃ§a uma anotaÃ§Ã£o <code>TODO</code>, o pipeline falharÃ¡ e exigirÃ¡ correÃ§Ã£o antes do merge.</p>
  </div>

  <div class="section">
    <h2>ğŸŒ Parte 2 â€“ Continuous Deployment (CD)</h2>
    <p>ApÃ³s o cÃ³digo ser validado, criaremos um segundo workflow para realizar o <strong>deploy automÃ¡tico</strong> no <strong>GitHub Pages</strong>.</p>

    <div class="highlight">
      <strong>Arquivo:</strong> <code>.github/workflows/cd-deploy.yaml</code>
    </div>

    <pre><code>name: ğŸš€ CD - Deploy AutomÃ¡tico no GitHub Pages

on:
  push:
    branches: [ "main" ]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Clonar repositÃ³rio
        uses: actions/checkout@v4

      - name: âš™ï¸ Instalar utilitÃ¡rio de deploy
        run: npm install -g gh-pages

      - name: ğŸš€ Publicar site
        run: |
          mkdir public
          cp index.html public/
          gh-pages -d public
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: ğŸŒ Exibir URL do site
        run: echo "âœ… Site disponÃ­vel em: https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/"</code></pre>

    <p>ğŸ’¡ <strong>Objetivo:</strong> Automatizar a publicaÃ§Ã£o de atualizaÃ§Ãµes no GitHub Pages assim que um novo commit Ã© enviado para a branch <code>main</code>.</p>
  </div>

  <div class="section">
    <h2>ğŸ§­ Estrutura sugerida para a aula</h2>
    <ol>
      <li>Revisar rapidamente o conceito de CI (verificaÃ§Ã£o e testes automÃ¡ticos).</li>
      <li>Mostrar o arquivo <code>ci-validacao.yaml</code> e simular um erro (ex: adicionar â€œTODOâ€ no HTML).</li>
      <li>Corrigir o erro e demonstrar o CI passando com sucesso.</li>
      <li>Introduzir o CD e mostrar como ele faz o deploy automÃ¡tico.</li>
      <li>Executar o push e acompanhar a execuÃ§Ã£o do pipeline.</li>
      <li>Acessar o link gerado pelo GitHub Pages e verificar a publicaÃ§Ã£o do site.</li>
    </ol>
  </div>

  <p><em>ğŸ’¬ Dica didÃ¡tica:</em> Mostre os logs do GitHub Actions em tempo real e incentive os alunos a criarem variaÃ§Ãµes, como deploy de mÃºltiplos arquivos ou adiÃ§Ã£o de testes automatizados.</p>
</body>
</html>
